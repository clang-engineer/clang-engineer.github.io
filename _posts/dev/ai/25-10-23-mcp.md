---
title       : ğŸ§© Model Context Protocol (MCP) & Serena MCP ì •ë¦¬
description : Claudeì™€ Serena MCP ì—°ë™ ê°œë… ë° ì„¤ì¹˜/ì„¤ì • ê°€ì´ë“œ
date        : 2025-10-23 13:43:00 +0900
updated     : 2025-11-17 13:18:23 +0900
categories  : [dev, ai]
tags        : [ai, mcp, serena, claude, anthropic, model-context-protocol]
pin         : false
hidden      : false
---

## 1. MCPë€?
**MCP (Model Context Protocol)** ì€ Anthropic(Claude ê°œë°œì‚¬)ì´ ì œì•ˆí•œ  
AI ëª¨ë¸ê³¼ ì™¸ë¶€ ë¦¬ì†ŒìŠ¤(íŒŒì¼, DB, API ë“±)ê°€ **í‘œì¤€í™”ëœ ë°©ì‹ìœ¼ë¡œ ìƒí˜¸ì‘ìš©**í•˜ë„ë¡ í•˜ëŠ” ì˜¤í”ˆ í”„ë¡œí† ì½œì´ë‹¤.

### ğŸ’¡ í•µì‹¬ ëª©ì 
- AI ëª¨ë¸ì´ **ì™¸ë¶€ ì‹œìŠ¤í…œì˜ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê³  ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼**í•  ìˆ˜ ìˆê²Œ í•¨  
- ê¸°ì¡´ì˜ â€œì»¤ìŠ¤í…€ í”ŒëŸ¬ê·¸ì¸/íˆ´ ì—°ê²° ë¬¸ì œ(NÃ—M)â€ë¥¼ **í•˜ë‚˜ì˜ í†µí•© ì¸í„°í˜ì´ìŠ¤ë¡œ ë‹¨ìˆœí™”**

### ğŸ§  ì£¼ìš” íŠ¹ì§•
| í•­ëª© | ì„¤ëª… |
|------|------|
| í†µì‹  ë°©ì‹ | JSON-RPC 2.0 ê¸°ë°˜ ì–‘ë°©í–¥ í†µì‹  |
| êµ¬ì¡° | í´ë¼ì´ì–¸íŠ¸(ëª¨ë¸) â†” MCP ì„œë²„(ë¦¬ì†ŒìŠ¤ ì œê³µì) |
| ë³´ì•ˆ | ëª…ì‹œì  ê¶Œí•œ ìš”ì²­ / ìŠ¹ì¸ ê¸°ë°˜ ì ‘ê·¼ |
| í™œìš© ë²”ìœ„ | íŒŒì¼ ì½ê¸°, API í˜¸ì¶œ, ë°ì´í„° ì¡°íšŒ, ì½”ë“œë² ì´ìŠ¤ ë¶„ì„ ë“± |

---

## 2. MCPì˜ ê¸°ë³¸ êµ¬ì¡°

```

+----------------+
| Claude / LLM   |  â† í´ë¼ì´ì–¸íŠ¸
+--------+-------+
|
|  JSON-RPC ìš”ì²­ (MCP í”„ë¡œí† ì½œ)
â†“
+--------+-------+
| MCP Server     |  â† ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ ì„œë²„
| (ì˜ˆ: Serena)   |
+--------+-------+
|
â†“
+----------------+
| Files / DB / APIs |
+----------------+

```

---

## 3. Serena MCPë€?

**Serena MCP**ëŠ” MCP í‘œì¤€ì„ êµ¬í˜„í•œ **ì½”ë“œë² ì´ìŠ¤ ë¶„ì„ìš© ì„œë²„**ì´ë‹¤.  
Claude Code ë˜ëŠ” Claude Desktop ë“±ê³¼ ì—°ë™ë˜ì–´,  
AIê°€ í”„ë¡œì íŠ¸ì˜ ì „ì²´ ì½”ë“œë¥¼ êµ¬ì¡°ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆê²Œ ë•ëŠ”ë‹¤.

### ğŸ§° Serena MCPì˜ ì—­í• 
| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ì½”ë“œ ì¸ë±ì‹± | í”„ë¡œì íŠ¸ ì „ì²´ íŒŒì¼ì„ ìŠ¤ìº”í•˜ê³ , í•¨ìˆ˜/í´ë˜ìŠ¤ ê´€ê³„ë¥¼ ë°ì´í„°ë² ì´ìŠ¤í™” |
| ì°¸ì¡° ì¶”ì  | í•¨ìˆ˜ í˜¸ì¶œ ê´€ê³„, í´ë˜ìŠ¤ ìƒì†, ë³€ìˆ˜ ì°¸ì¡° ë“±ì„ ì¶”ì  |
| ë¹ ë¥¸ ê²€ìƒ‰ | Claudeì˜ ìš”ì²­ì— ë§ì¶° ê´€ë ¨ ì½”ë“œë‚˜ íŒŒì¼ì„ ì¦‰ì‹œ ë°˜í™˜ |
| ë¬¸ë§¥ ê´€ë¦¬ | ëŒ€ê·œëª¨ ì½”ë“œì—ì„œ ëª¨ë¸ì´ ì²˜ë¦¬ ê°€ëŠ¥í•œ ë²”ìœ„ë¥¼ ê´€ë¦¬ |
| MCP í†µì‹  | Claudeì™€ JSON-RPCë¡œ ëª…ë ¹/ì‘ë‹µ ì²˜ë¦¬ |

---

## 4. Claude Code + Serena MCP ì—°ê²° íë¦„

```

ì‚¬ìš©ì ìš”ì²­
â†“
Claude Code (í´ë¼ì´ì–¸íŠ¸)
â†“
[MCP ìš”ì²­]
â†“
Serena MCP (ì„œë²„)
â†“
ì½”ë“œë² ì´ìŠ¤ / íŒŒì¼ ì‹œìŠ¤í…œ

````

ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ìš©ìê°€ ë‹¤ìŒê³¼ ê°™ì´ ë¬»ëŠ”ë‹¤ë©´:

> â€œ`UserService` í´ë˜ìŠ¤ê°€ ì–´ë””ì„œ ì‚¬ìš©ë˜ë‚˜ìš”?â€

1. Claude Codeê°€ MCP ìš”ì²­ì„ ë³´ëƒ„  
2. Serena MCPê°€ ì½”ë“œë² ì´ìŠ¤ë¥¼ íƒìƒ‰  
3. í˜¸ì¶œ ìœ„ì¹˜ë¥¼ ì°¾ì•„ JSON ì‘ë‹µ  
4. Claude Codeê°€ ìì—°ì–´ë¡œ ê²°ê³¼ë¥¼ ìš”ì•½í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤Œ

---

## 5. Serena MCP ì„¤ì¹˜ ìš”ì•½ (ì˜ˆì‹œ)

```bash
# 1ï¸âƒ£ ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/oraios/serena
cd serena

# 2ï¸âƒ£ ì˜ì¡´ì„± ì„¤ì¹˜ (uv ì‚¬ìš©)
uv sync

# 3ï¸âƒ£ MCP ì„œë²„ ì‹¤í–‰
uv run --directory /path/to/serena serena-mcp-server --context ide-assistant

# 4ï¸âƒ£ Claude Codeì— ì„œë²„ ë“±ë¡
claude mcp add serena -- \
  uvx --from git+https://github.com/oraios/serena serena-mcp-server --context ide-assistant
````

âš™ï¸ ì„¤ì • íŒŒì¼: `~/.serena/serena_config.yml`

```yaml
web_dashboard: false
read_only: true
```

---

## 6. Claude â†” Serena ì—°ë™ ì„¤ì •

### ğŸ§© ì „ì—­ ì„¤ì • (ê¶Œì¥)

Claude Desktopì€ MCP ì„œë²„ ëª©ë¡ì„ ì „ì—­ íŒŒì¼(`servers.json`)ë¡œ ê´€ë¦¬í•œë‹¤.

**Mac ì˜ˆì‹œ ê²½ë¡œ:**

```
~/Library/Application Support/Claude/servers.json
```

**Linux ì˜ˆì‹œ ê²½ë¡œ:**

```
~/.config/Claude/servers.json
```

### âœï¸ ì˜ˆì‹œ ì„¤ì •

```json
{
  "servers": [
    {
      "id": "serena",
      "name": "Serena MCP Server",
      "command": "uv",
      "args": ["run", "--directory", "/Users/you/serena", "serena", "start-mcp-server"],
      "env": {},
      "autoStart": true
    }
  ]
}
```

Claudeë¥¼ ì¬ì‹œì‘í•˜ë©´ ìë™ìœ¼ë¡œ Serena MCP ì„œë²„ë¥¼ ê°ì§€í•˜ê³  ì—°ê²°í•œë‹¤.

> â€œSerena MCP Server connectedâ€ ë©”ì‹œì§€ê°€ í‘œì‹œë˜ë©´ ì„±ê³µ ğŸ‰

---

## 7. ê³ ê¸‰ ì„¤ì • (ì„ íƒ ì‚¬í•­)

### ğŸ§  ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ë¥¸ Serena ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©í•˜ê¸°

ê¸°ë³¸ì ìœ¼ë¡œ `servers.json`ì€ ì „ì—­ ì„¤ì •ì´ì§€ë§Œ,
ì„œë¡œ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë³„ë¡œ ë‹¤ë¥¸ Serena ì„œë²„ë¥¼ ë“±ë¡í•  ìˆ˜ë„ ìˆë‹¤.

#### ì˜ˆì‹œ

```json
{
  "servers": [
    {
      "id": "serena-dev",
      "name": "Serena (Dev)",
      "command": "uv",
      "args": ["run", "--directory", "/Users/you/dev/serena", "serena", "start-mcp-server"]
    },
    {
      "id": "serena-prod",
      "name": "Serena (Prod)",
      "command": "uv",
      "args": ["run", "--directory", "/Users/you/prod/serena", "serena", "start-mcp-server"]
    }
  ]
}
```

ë˜ëŠ” í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ìœ¼ë¡œë„ ì§€ì • ê°€ëŠ¥í•˜ë‹¤.

```json
{
  "servers": [
    {
      "id": "serena",
      "name": "Serena (Dynamic)",
      "command": "uv",
      "args": ["run", "--directory", "$SERENA_PATH", "serena", "start-mcp-server"]
    }
  ]
}
```

```bash
# í”„ë¡œì íŠ¸ë³„ë¡œ í™˜ê²½ë³€ìˆ˜ ì„¤ì • í›„ ì‹¤í–‰
export SERENA_PATH=/Users/you/myproject/serena
claude &
```

---

## 8. ì¥ì  ë° ì£¼ì˜ì‚¬í•­

### âœ… ì¥ì 

* ì½”ë“œ ì´í•´ë ¥ í–¥ìƒ (í•¨ìˆ˜ ê´€ê³„, í˜¸ì¶œ ì¶”ì  ë“±)
* ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ íƒìƒ‰ ì†ë„ ê°œì„ 
* Claude Codeì˜ ë§¥ë½ í’ˆì§ˆ í–¥ìƒ
* uv ê¸°ë°˜ ì„¤ì¹˜ë¡œ ë¹ ë¥´ê³  ê°€ë²¼ì›€
* Claudeì™€ ìë™ í†µì‹  (MCP í”„ë¡œí† ì½œ í‘œì¤€)

### âš ï¸ ì£¼ì˜ì‚¬í•­

* í”„ë¡œì íŠ¸ì— ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ì‹¤í–‰
* `read_only` ëª¨ë“œ ê¶Œì¥ (ì½”ë“œ ìˆ˜ì • ë°©ì§€)
* `servers.json`ì€ ì „ì—­ ì ìš©ì´ë¯€ë¡œ, ì˜ëª»ëœ ê²½ë¡œ ì„¤ì • ì‹œ Claude ì „ì²´ì—ì„œ ì—ëŸ¬ ë°œìƒ

---

## 9. ìš”ì•½

| êµ¬ë¶„          | ì„¤ëª…                                              |
| ----------- | ----------------------------------------------- |
| MCP         | ëª¨ë¸ì´ ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ ì˜¤í”ˆ í”„ë¡œí† ì½œ                     |
| Serena MCP  | ì½”ë“œë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ Claudeì— ì œê³µí•˜ëŠ” MCP ì„œë²„                   |
| Claude Code | ì‚¬ìš©ì ëª…ë ¹ì„ ì´í•´í•˜ê³  Serena MCPë¡œë¶€í„° ë°ì´í„° ìš”ì²­               |
| í•µì‹¬ ì¥ì        | ì½”ë“œ íƒìƒ‰Â·ë¦¬íŒ©í† ë§Â·ë§¥ë½ ì´í•´ í–¥ìƒ                             |
| í•„ìˆ˜ ì¡°ê±´       | Python + uv í™˜ê²½, ë¡œì»¬ ì„œë²„ ì‹¤í–‰ ê¶Œí•œ                     |
| ì—°ê²° ë°©ì‹       | Claude â†” Serena ê°„ JSON-RPC ê¸°ë°˜ ì–‘ë°©í–¥ í†µì‹             |
| ì„¤ì • ìœ„ì¹˜       | ì „ì—­: `servers.json` / ë¡œì»¬: `~/.serena/config.yml` |

---

ë°”ë¡œ ê·¸ ë‚´ìš© ì„¹ì…˜ í•˜ë‚˜ ì¶”ê°€í•˜ë©´ ë”± ì¢‹ê² ë„¤.
ì•„ë˜ ë¸”ë¡ì„ **â€œ10. Codexì— Serena MCP ì—°ë™í•˜ê¸°â€** ê°™ì€ ì œëª©ìœ¼ë¡œ ê·¸ëŒ€ë¡œ ë¶™ì—¬ ë„£ìœ¼ë©´ ëœë‹¤.

---

## 10. Codexì— Serena MCP ì—°ë™í•˜ê¸°

Serena MCPëŠ” Claudeë¿ë§Œ ì•„ë‹ˆë¼ **Codex CLI**ì—ì„œë„ ê·¸ëŒ€ë¡œ MCP ì„œë²„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
CodexëŠ” MCP í´ë¼ì´ì–¸íŠ¸ì´ê¸° ë•Œë¬¸ì—, `~/.codex/config.toml` ì— Serena ì„œë²„ ì‹¤í–‰ ì»¤ë§¨ë“œë¥¼ ë“±ë¡í•´ ë‘ë©´ ëœë‹¤.([OpenAI Developers][1])

### 10.1 ì‚¬ì „ ì¤€ë¹„

1. **Codex CLI ì„¤ì¹˜**

```bash
npm install -g @openai/codex@latest
codex --version
codex login
```

2. **uv ì„¤ì¹˜ (Serena ì‹¤í–‰ìš©)** ([Playbooks][2])

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh

# ì„¤ì¹˜ í›„ PATHì— ì¶”ê°€ (Linux / macOS ì˜ˆì‹œ)
export PATH="$HOME/.local/bin:$PATH"
uvx --version
```

> âš ï¸ `uvx: command not found` ê°€ ë‚˜ì˜¤ë©´, Codexê°€ ëœ¨ëŠ” ì‰˜ í”„ë¡œíŒŒì¼(`.zshrc`, `.bashrc` ë“±)ì— `PATH="$HOME/.local/bin:$PATH"` ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.

---

### 10.2 Codex MCP ì„¤ì • íŒŒì¼ì— Serena ë“±ë¡

CodexëŠ” MCP ì„¤ì •ì„ **`~/.codex/config.toml`** ì— ì €ì¥í•œë‹¤.([OpenAI Developers][1])

* macOS / Linux: `~/.codex/config.toml`
* Windows: `C:\Users\<ê³„ì •>\.codex\config.toml` (ì—†ìœ¼ë©´ ì§ì ‘ ìƒì„±)

íŒŒì¼ì— ì•„ë˜ ë¸”ë¡ì„ ì¶”ê°€í•œë‹¤(ì—†ìœ¼ë©´ ìƒˆ íŒŒì¼ë¡œ ë§Œë“¤ì–´ë„ ë¨):

```toml
[mcp_servers.serena]
command = "uvx"
args = [
  "--from", "git+https://github.com/oraios/serena",
  "serena", "start-mcp-server",
  "--context", "codex"
]

# (ì˜µì…˜) Serena ê¸°ë™/íˆ´ ì‹¤í–‰ íƒ€ì„ì•„ì›ƒ ì¡°ì •
startup_timeout_sec = 120
tool_timeout_sec = 600
```

* `mcp_servers.serena`

  * Codexì—ì„œ ë³´ì´ëŠ” **ì„œë²„ ì´ë¦„**(ì›í•˜ë©´ `serena-code` ë“±ìœ¼ë¡œ ë°”ê¿”ë„ ë¨).([OpenAI Developers][1])
* `command = "uvx"`

  * Codexê°€ MCP ì„œë²„ë¥¼ ë„ìš¸ ë•Œ ì‹¤í–‰í•  ëª…ë ¹.
* `args = [...]`

  * Serena ê³µì‹ ë¬¸ì„œ ê¶Œì¥ í˜•íƒœë¡œ, **Codex ì „ìš© ì»¨í…ìŠ¤íŠ¸ì¸ `--context codex`** ë¥¼ ê¼­ ë¶™ì—¬ì•¼ Codexì™€ í˜¸í™˜ë˜ê²Œ íˆ´ êµ¬ì„±ì´ ì¡íŒë‹¤.([mcpindex.net][3])

---

### 10.3 Codexì—ì„œ ì—°ê²° í™•ì¸ ë° í”„ë¡œì íŠ¸ í™œì„±í™”

1. **Codex TUI ì‹¤í–‰**

```bash
codex
```

2. **MCP ì„œë²„ ì—°ê²° ìƒíƒœ í™•ì¸**

Codex TUI ì•ˆì—ì„œ:

```text
/mcp
```

* `serena` ê°€ ëª©ë¡ì— ë³´ì´ë©´ MCP ì—°ê²°ì€ ì„±ê³µí•œ ê²ƒ.([OpenAI Developers][1])

3. **í˜„ì¬ í”„ë¡œì íŠ¸ë¥¼ Serenaì— í™œì„±í™”**

Serena ê³µì‹ ê°€ì´ë“œì— ë”°ë¼, Codexì—ì„œëŠ” **ëŒ€í™” ì•ˆì—ì„œ í”„ë¡œì íŠ¸ë¥¼ í™œì„±í™”**í•´ì•¼ íˆ´ì´ ì œëŒ€ë¡œ ë™ì‘í•œë‹¤.([mcpindex.net][3])

Codexì—ê²Œ ì´ë ‡ê²Œ ë§í•´ì¤€ë‹¤:

> â€œActivate the current dir as project using serenaâ€

í˜¹ì€:

> â€œUse Serena to activate this directory as a projectâ€

* ì´ ê³¼ì •ì„ í•˜ì§€ ì•Šìœ¼ë©´ Serena íˆ´ì´ ì½”ë“œë² ì´ìŠ¤ë¥¼ ì œëŒ€ë¡œ ëª» ë³¸ë‹¤.
* í•œ ë²ˆ í™œì„±í™”í•˜ë©´ `~/.serena/serena_config.yml` ê³¼ `<í”„ë¡œì íŠ¸>/.serena/project.yml`ì´ ìƒì„±ë˜ì–´ ì´í›„ë¶€í„°ëŠ” ë” ë¹¨ë¦¬ ë¶™ëŠ”ë‹¤.([mcpindex.net][3])

4. **ì •ìƒ ë™ì‘ ì—¬ë¶€ ë¡œê·¸ í™•ì¸ (ì„ íƒ)**

ë¬¸ì œê°€ ì˜ì‹¬ë˜ë©´:

```bash
tail -n 200 ~/.codex/log/codex-tui.log
```

ì—ì„œ `serena` ê´€ë ¨ ì—ëŸ¬ê°€ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.([mcpindex.net][3])

---

### 10.4 Codex + Serena ì‚¬ìš©í•  ë•Œ íŒ / ì£¼ì˜ì‚¬í•­

* **ëŒ€ì‹œë³´ë“œ**
  SerenaëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `http://localhost:24282/dashboard/index.html` ì— ì›¹ ëŒ€ì‹œë³´ë“œë¥¼ ë„ìš´ë‹¤.
  Codexì—ì„œ ë¸Œë¼ìš°ì € ìë™ ì˜¤í”ˆì€ ë§‰í ìˆ˜ ìˆìœ¼ë‹ˆ, ì£¼ì†Œë¥¼ ì§ì ‘ ì—´ì–´ë³´ë©´ í˜„ì¬ ì„¸ì…˜/ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.([mcpindex.net][3])

* **íˆ´ ìƒíƒœê°€ `failed`ë¡œ ë³´ì—¬ë„ ì‹¤ì œë¡  ì •ìƒ**
  Codex ìª½ ë²„ê·¸ë¡œ, Serena íˆ´ ì‹¤í–‰ì´ ì„±ê³µí–ˆëŠ”ë°ë„ UIì— `failed`ë¡œ í‘œì‹œë˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.
  Serena ë¬¸ì„œì—ì„œë„ â€œì—ëŸ¬ì²˜ëŸ¼ ë³´ì—¬ë„ ì‹¤ì œë¡œëŠ” ì˜ ë™ì‘í•˜ë‹ˆ ë¬´ì‹œí•´ë„ ëœë‹¤â€ê³  ëª…ì‹œë¼ ìˆë‹¤.([mcpindex.net][3])

* **í”„ë¡œì íŠ¸ ì¸ë±ì‹±(ì˜µì…˜)**
  í° ë ˆí¬ë¼ë©´ ì²« í˜¸ì¶œ ì†ë„ë¥¼ ìœ„í•´ í•œ ë²ˆì¯¤ ì•„ë˜ë¥¼ ì‹¤í–‰í•´ ë‘ëŠ” ê±¸ ê¶Œì¥:

  ```bash
  # í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
  uvx --from git+https://github.com/oraios/serena serena project index
  ```

  ì´ë ‡ê²Œ í•´ë‘ë©´ Codexê°€ Serena íˆ´ì„ ë¶€ë¥¼ ë•Œ ì½”ë“œ ê²€ìƒ‰/ì°¸ì¡° ì¶”ì ì´ í›¨ì”¬ ë¹ ë¥´ë‹¤.([mcpindex.net][3])

---


> âœ¨ **í•œë§ˆë””ë¡œ**
> MCPëŠ” â€œAI ëª¨ë¸ì„ ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ì™€ ì—°ê²°í•˜ëŠ” í‘œì¤€ ì¸í„°í˜ì´ìŠ¤â€ì´ê³ ,
> Serena MCPëŠ” ê·¸ í‘œì¤€ì„ í™œìš©í•´ Claudeê°€ â€œì½”ë“œë² ì´ìŠ¤ë¥¼ ì´í•´í•˜ê³  íƒìƒ‰í•  ìˆ˜ ìˆê²Œ ë•ëŠ” ë¡œì»¬ ë„êµ¬ ì„œë²„â€ì´ë‹¤.
